<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="VibeOps — AI-powered automation, engineering, and web solutions…" />
  <meta name="keywords" content="AI automation, workflow optimization, web development, engineering consulting, CRM integration" />
  <meta name="author" content="VibeOps" />
  <title>VibeOps — {% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  {% block extra_head %}{% endblock %}
</head>
<body>
  <header>
    <nav class="nav-container">
      <a href="/" class="nav-logo-link">
        <img src="/static/Logo-wht.png" alt="VibeOps Logo" class="nav-logo" />
      </a>
      <button class="nav-toggle" aria-label="Toggle navigation menu">
        <span class="hamburger"></span>
      </button>
      <ul class="nav-menu">
        <li><a href="/">Home</a></li>
        <li><a href="/team">Team</a></li>
        <li><a href="/services">Services</a></li>
        <li><a href="/reviews">Reviews</a></li>
        <li><a href="/pipeline-estimator">Pipeline Estimator</a></li> 
        <li><a href="/construction-tracker">Construction Tracker</a></li>
        <li><a href="/struct-wise">Struct-wise Demo</a></li>
        <li><a href="/booking" class="btn primary">Book Now</a></li>
        {% if is_authenticated %}
          <li><a href="/logout" class="btn secondary">Logout</a></li>
        {% endif %}
      </ul>
    </nav>
  </header>

  <main>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
            <div class="flash-message flash-{{ category }}">
              {{ message }}
              <button class="flash-close" onclick="this.parentElement.remove()">&times;</button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    
    {% block content %}{% endblock %}
  </main>

  <footer class="footer" data-aos="fade-in" data-aos-duration="1000">
    <img src="/static/Logo-wht.png" alt="VibeOps Footer Logo" class="footer-logo" data-aos="fade-up" data-aos-delay="100" />
    <p class="footer-tagline" data-aos="fade-up" data-aos-delay="150"> [VibeOps.ca Engineering Consulting Collective {VECC}]</p>
    <p class="footer-cta-text" data-aos="fade-up" data-aos-delay="180">Ready to build? Connect with our engineering and AI automation teams.</p>
    <p data-aos="fade-up" data-aos-delay="200">© 2025 VibeOps — AI Automation & Web Solutions. All rights reserved.</p>
    <div class="socials" data-aos="fade-up" data-aos-delay="300">
      <a href="mailto:vibeops.info@gmail.com?subject=Let's%20Build:%20_________&body=Hey%20VibeOps%2C%0A%0AI've%20got%20a%20project%20in%20mind:%20[details].%20Let%20s%20connect!%0A%0A[Your%20Name]" class="footer-email-btn">Email Us!</a>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({
      duration: 800,
      easing: 'ease-out-back',
      once: true,
      mirror: false,
      offset: 100
    });

    // Mobile nav toggle
    const navToggle = document.querySelector('.nav-toggle');
    const navMenu = document.querySelector('.nav-menu');
    navToggle.addEventListener('click', () => {
      const isActive = navToggle.classList.toggle('active');
      navMenu.classList.toggle('active', isActive);
      navToggle.setAttribute('aria-expanded', isActive);
      document.body.classList.toggle('nav-menu-active', isActive);
    });

    // Auto-hide flash messages after 5 seconds
    setTimeout(() => {
      const flashMessages = document.querySelectorAll('.flash-message');
      flashMessages.forEach(message => {
        message.style.opacity = '0';
        setTimeout(() => message.remove(), 300);
      });
    }, 5000);
  </script>
  {% block extra_scripts %}{% endblock %}
</body>
</html>
