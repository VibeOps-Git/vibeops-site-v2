{% extends "base.html" %}
{% block title %}Book a Free Strategy Call â€” VibeOps{% endblock %}

{% block extra_head %}
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet" />
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
  <style>
    :root{
      --text:#e5e7eb; --muted:#9aa3af; --border:#252a36; --accent:#00ffcc;
      --card-bg:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
      --shadow:0 18px 60px rgba(0,0,0,.45);
      /* tweak these if Calendly changes layout lengths */
      --cal-h-desktop: 1200px;
      --cal-h-tablet:  1200px;
      --cal-h-mobile:  1150px; /* keep big so no inner scroll */
    }

    /* Page section */
    .calendly-section{
      padding: clamp(16px,3vw,24px);
      border-top: 1px solid var(--border);
    }

    /* Frame (pretty border + glow) */
    .calendly-frame{
      border-radius: 20px;
      border: 1px solid var(--border);
      background: var(--card-bg);
      box-shadow: var(--shadow), 0 0 0 1px rgba(255,255,255,.03);
      overflow: hidden;
      max-width: 1100px;
      margin: 0 auto;
    }

    /* The Calendly widget container */
    .calendly-inline-widget{
      width: 100%;
    }

    /* Heights by breakpoint: PAGE scrolls, iframe does not */
    @media (min-width:1025px){ .calendly-inline-widget{ height: var(--cal-h-desktop); } }
    @media (min-width:641px) and (max-width:1024px){ .calendly-inline-widget{ height: var(--cal-h-tablet); } }
    @media (max-width:640px){ .calendly-inline-widget{ height: var(--cal-h-mobile); } }

    /* Ensure iframe fills its parent */
    .calendly-inline-widget iframe{
      width: 100% !important;
      height: 100% !important;
      display: block;
      border: 0;
    }

    /* Email CTA */
    .email-cta{
      display:flex; justify-content:center; padding: 14px 0 6px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:12px 16px; border-radius:14px; font-weight:700; text-decoration:none;
      color:#071015; border:1px solid transparent;
      background:linear-gradient(180deg,var(--accent),#7bf9e4);
      box-shadow:0 10px 40px rgba(0,255,204,.35);
      transition:transform .18s, box-shadow .18s;
      white-space:nowrap;
    }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 20px 60px rgba(0,255,204,.45); }

    /* Nice little caption color if you add any text */
    .muted{ color: var(--muted); }

    /* iOS safe-area bottom padding so buttons aren't under the home bar */
    @supports(padding:max(0px)){
      .calendly-section{ padding-bottom: max(16px, env(safe-area-inset-bottom)); }
    }
  </style>
{% endblock %}

{% block content %}
<section class="calendly-section" aria-label="Schedule with Calendly">
  <div
    class="calendly-inline-widget calendly-frame"
    data-url="https://calendly.com/zander-vibeops/30min?primary_color=00ffcc&text_color=e5e7eb&background_color=0f1115&hide_gdpr_banner=1"
    style="min-width:320px"
    role="region"
    aria-label="VibeOps 30 minute consultation scheduling">
  </div>

  <noscript>
    <div style="max-width:1100px;margin:12px auto 0;padding:12px;border-radius:12px;border:1px solid var(--border)">
      <p class="muted">Scheduling requires JavaScript. Book directly at
        <a href="https://calendly.com/zander-vibeops/30min" target="_blank" rel="noopener">calendly.com/zander-vibeops/30min</a>.
      </p>
    </div>
  </noscript>

  <div class="email-cta">
    <a class="btn"
       href="mailto:sales@vibeops.ca?cc=ceo@vibeops.ca&subject=Schedule%20a%2030-minute%20strategy%20call&body=Hi%20VibeOps%2C%0A%0AWe%27d%20like%20to%20book%20a%2030-minute%20strategy%20call.%20Here%27s%20a%20bit%20of%20context%3A%0A%0AGoal%3A%20%5Bbrief%5D%0ATimeline%3A%20%5Brough%5D%0AWebsite%3A%20%5Blink%5D%0A%0AThanks%2C%0A%5BYour%20Name%5D%0A%5BCompany%5D%0A%5BPhone%5D">
      Prefer email? Click to draft
    </a>
  </div>
</section>
{% endblock %}

{% block extra_scripts %}{% endblock %}
